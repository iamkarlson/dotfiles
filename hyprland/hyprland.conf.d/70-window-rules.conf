#########################################################################
# this setting does exactly what it says
# when window requests to activate the focus
# hyprland immediately switch a focus to the window
# HOWEVER, telegram, for example, calls to activate on every notification
# this is horrible shit, do not turn it on
#########################################################################
misc {
  focus_on_activate = false
}

binds {
  hide_special_on_workspace_change = true
}

########################################
### ASSIGN APPS TO WORKSPACES ###
########################################
# Native windowrule assigns workspace at creation time (no flash/re-layout)
# hyprwhenthen is only used for post-creation logic (workspace locking, events)

windowrule = match:class ^(vivaldi-stable)$, workspace 1
windowrule = match:class ^(firefox).*$, workspace 1
windowrule = match:class Slack, workspace 11
windowrule = match:class .*Thunderbird, workspace 12
windowrule = match:class org.telegram.desktop, workspace 14
windowrule = match:class spotify, workspace 15
windowrule = match:class org.kde.kdeconnect.app, workspace 18
windowrule = match:class slimbookbatterypreferences.py, workspace 19

windowrule {
  name = espanso
  match:title = Espanso Sync Tool
  workspace = special:espanso
  focus_on_activate = off
}

windowrule {
  name = whatsapp-workspace
  match:initial_class = vivaldi-hnpfjngllnobngcgfapefoaidbinmjnm-Default
  workspace = 13
}

########################################
### VISUAL AND BEHAVIORAL RULES ###
########################################

workspace = special:keepass, border:false, shadow:true, gapsout:20
windowrule  {
  name = keepass
  match:class = org.keepassxc.KeePassXC
  workspace = special:keepass
  tile = off
  #animation = popin
  animation = slide right
  #move = (cursor_x-(window_w*0.5)) (cursor_y-(window_h*0.5))
  focus_on_activate = on
  move = monitor_w*0.65 0
  size = (monitor_w*0.3) (monitor_h)
  stay_focused = on
  persistent_size = off
  border_size = 0
}

windowrule {
  name = minecraft
  match:class = Minecraft.*
  border_size = 0
  tile = on
}

#windowrule =  match:class Minecraft.*, plugin:hyprbars:nobar 1

windowrule {
  name = alacritty
  match:class = Alacritty
  border_color = rgba(FF00bbaa)
  #border_color = rgb(ff0000) rgb(0000ff) 45deg
  #border_size = 10
  min_size = 805 552
  animation = borderangle, 1, 1, liner, loop

}

windowrule = match:class rofi, stay_focused on


windowrule {
  name = thunderbird-calendar-reminders
  match:class = .*Thunderbird
  match:initial_title = (Calendar Reminders)
  workspace = unset
  focus_on_activate = off
  tile = off
  animation = slide right
  move = monitor_w*0.79 (cursor_y-(monitor_h*0.5))
  size = (monitor_w*0.2) (monitor_h*0.2)
  persistent_size = on
  border_size = 0
}

windowrule {
  name = whatsapp
  match:initial_title = WhatsApp Web
  match:initial_class = vivaldi-hnpfjngllnobngcgfapefoaidbinmjnm-Default
  tile = on
  focus_on_activate = on
}


# Float any window whose title or app_id matches Waydroid
windowrule = match:class waydroid.*  , float on # force Waydroid out of tiling so it renders/clicks correctly
windowrule = match:class waydroid.*  , rounding 0 # remove corner rounding so nothing gets clipped



########################################
# Colors
########################################

windowrule = match:class firefox, border_color rgb(E66000)
windowrule = match:class emacs, border_color rgb(650D89)
windowrule = match:title Spotify, border_color rgb(1ED760)
